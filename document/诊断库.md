# 头文件

```
#include <cerrno>
#include <cassert>
#include <exception>
#include <stdexcept>
#include <system_error>
#include <stacktrace>
#include <debugging>
```





# 诊断库

###  异常处理（常用于自定义异常）

头文件 [``](https://cppreference.cn/w/cpp/header/exception) 提供了几个与 C++ 程序中异常处理相关的类和函数。



| 定义于头文件 `<exception>`                                   |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [ exception](https://cppreference.cn/w/cpp/error/exception)  | 标准库组件抛出的异常的基类  (类)                             |
| 异常对象的捕获和存储                                         |                                                              |
| [ uncaught_exceptionuncaught_exceptions](https://cppreference.cn/w/cpp/error/uncaught_exception)(C++20* 中移除)(C++17) | 检查异常处理当前是否正在进行  (函数)                         |
| [ exception_ptr](https://cppreference.cn/w/cpp/error/exception_ptr)(C++11) | 用于处理异常对象的共享指针类型  (类型别名)                   |
| [ make_exception_ptr](https://cppreference.cn/w/cpp/error/make_exception_ptr)(C++11) | 从异常对象创建 [std::exception_ptr](https://cppreference.cn/w/cpp/error/exception_ptr)  (函数模板) |
| [ current_exception](https://cppreference.cn/w/cpp/error/current_exception)(C++11) | 在 [std::exception_ptr](https://cppreference.cn/w/cpp/error/exception_ptr) 中捕获当前异常  (函数) |
| [ rethrow_exception](https://cppreference.cn/w/cpp/error/rethrow_exception)(C++11) | 从 [std::exception_ptr](https://cppreference.cn/w/cpp/error/exception_ptr) 抛出异常  (函数) |
| [ nested_exception](https://cppreference.cn/w/cpp/error/nested_exception)(C++11) | 用于捕获和存储当前异常的混入类型  (类)                       |
| [ throw_with_nested](https://cppreference.cn/w/cpp/error/throw_with_nested)(C++11) | 抛出其参数，并混入 [std::nested_exception](https://cppreference.cn/w/cpp/error/nested_exception)  (函数模板) |
| [ rethrow_if_nested](https://cppreference.cn/w/cpp/error/rethrow_if_nested)(C++11) | 从 [std::nested_exception](https://cppreference.cn/w/cpp/error/nested_exception) 抛出异常  (函数模板) |
| 异常处理中的失败处理                                         |                                                              |
| 定义于头文件 `<exception>`                                   |                                                              |
| [ terminate](https://cppreference.cn/w/cpp/error/terminate)  | 当异常处理失败时调用的函数  (函数)                           |
| [ terminate_handler](https://cppreference.cn/w/cpp/error/terminate_handler) | 由 [std::terminate](https://cppreference.cn/w/cpp/error/terminate) 调用的函数的类型  (类型别名) |
| [ get_terminate](https://cppreference.cn/w/cpp/error/get_terminate)(C++11) | 获取当前的 terminate_handler  (函数)                         |
| [ set_terminate](https://cppreference.cn/w/cpp/error/set_terminate) | 更改要由 [std::terminate](https://cppreference.cn/w/cpp/error/terminate) 调用的函数  (函数) |
| [ bad_exception](https://cppreference.cn/w/cpp/error/bad_exception) | 当 [std::current_exception](https://cppreference.cn/w/cpp/error/current_exception) 无法复制异常对象时抛出的异常  (类) |
| 异常规范违规的处理 (直到 C++17)                              |                                                              |
| [ unexpected](https://cppreference.cn/w/cpp/error/unexpected)(在 C++11 中弃用)(在 C++17 中移除) | 当动态异常规范被违反时调用的函数  (函数)                     |
| [ unexpected_handler](https://cppreference.cn/w/cpp/error/unexpected_handler)(在 C++11 中弃用)(在 C++17 中移除) | 由 [std::unexpected](https://cppreference.cn/w/cpp/error/unexpected) 调用的函数的类型  (类型别名) |
| [ get_unexpected](https://cppreference.cn/w/cpp/error/get_unexpected)(在 C++11 中弃用)(在 C++17 中移除) | 获取当前的 `unexpected_handler`  (函数)                      |
| [ set_unexpected](https://cppreference.cn/w/cpp/error/set_unexpected)(在 C++11 中弃用)(在 C++17 中移除) | 更改要由 [std::unexpected](https://cppreference.cn/w/cpp/error/unexpected) 调用的函数  (函数) |

###  异常类别（常用于 throw异常）

头文件 `<stdexcept>` 中预定义了几个便利类，用于报告特定的错误情况。这些类可以分为两类：*逻辑*错误和*运行时*错误。逻辑错误是程序内部错误逻辑的结果，可能是可以预防的。运行时错误是由于程序范围之外的事件造成的，不易预测。

| 定义于头文件 `<stdexcept>`                                   |                                                    |
| ------------------------------------------------------------ | -------------------------------------------------- |
| [ logic_error](https://cppreference.cn/w/cpp/error/logic_error) | 异常类，指示违反逻辑前提条件或类不变量的情况  (类) |
| [ invalid_argument](https://cppreference.cn/w/cpp/error/invalid_argument) | 异常类，用于报告无效参数  (类)                     |
| [ domain_error](https://cppreference.cn/w/cpp/error/domain_error) | 异常类，用于报告域错误  (类)                       |
| [ length_error](https://cppreference.cn/w/cpp/error/length_error) | 异常类，用于报告尝试超出最大允许大小的情况  (类)   |
| [ out_of_range](https://cppreference.cn/w/cpp/error/out_of_range) | 异常类，用于报告超出预期范围的参数  (类)           |
| [ runtime_error](https://cppreference.cn/w/cpp/error/runtime_error) | 异常类，指示仅在运行时可检测到的条件  (类)         |
| [ range_error](https://cppreference.cn/w/cpp/error/range_error) | 异常类，用于报告内部计算中的范围错误  (类)         |
| [ overflow_error](https://cppreference.cn/w/cpp/error/overflow_error) | 异常类，用于报告算术溢出  (类)                     |
| [ underflow_error](https://cppreference.cn/w/cpp/error/underflow_error) | 异常类，用于报告算术下溢  (类)                     |
| [ tx_exception](https://cppreference.cn/w/cpp/error/tx_exception)(TM TS) | 异常类，用于取消原子事务  (类模板)                 |



###  错误号（见 [cdefine](./cdefine.md)的cerrno）

| 定义于头文件 `<cerrno>`                                      |                                                    |
| ------------------------------------------------------------ | -------------------------------------------------- |
| [ errno](https://cppreference.cn/w/cpp/error/errno)          | 宏，展开为 POSIX 兼容的线程局部错误号变量 (宏变量) |
| [ E2BIG, EACCES, ..., EXDEV](https://cppreference.cn/w/cpp/error/errno_macros) | 标准 POSIX 兼容错误条件的宏  (宏常量)              |



###  系统错误 (自 C++11 起)（常用于设置错误码/类别枚举使用）

头文件 `<system_error>` 定义了用于报告源自操作系统、流 I/O、[std::future](https://cppreference.cn/w/cpp/thread/future) 或其他底层 API 的错误条件的类型和函数。

| 定义于头文件 `<system_error>`                                |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [ error_category](https://cppreference.cn/w/cpp/error/error_category)(C++11) | 错误类别的基类  (类)                                         |
| [ generic_category](https://cppreference.cn/w/cpp/error/generic_category)(C++11) | 标识通用错误类别  (函数)                                     |
| [ system_category](https://cppreference.cn/w/cpp/error/system_category)(C++11) | 标识操作系统错误类别  (函数)                                 |
| [ error_condition](https://cppreference.cn/w/cpp/error/error_condition)(C++11) | 持有可移植的错误码  (类)                                     |
| [ errc](https://cppreference.cn/w/cpp/error/errc)(C++11)     | [std::error_condition](https://cppreference.cn/w/cpp/error/error_condition) 枚举，列出所有标准的 [``](https://cppreference.cn/w/cpp/header/cerrno) 宏常量  (类) |
| [ error_code](https://cppreference.cn/w/cpp/error/error_code)(C++11) | 持有平台相关的错误码  (类)                                   |
| [ system_error](https://cppreference.cn/w/cpp/error/system_error)(C++11) | 用于报告具有 error_code 的条件的异常类  (类)                 |



###  断言

断言有助于在程序中实现前提条件的检查。

| 定义于头文件 `<cassert>`                              |                                                              |
| ----------------------------------------------------- | ------------------------------------------------------------ |
| [ assert](https://cppreference.cn/w/cpp/error/assert) | 如果用户指定的条件不为 true，则中止程序。可能在发布版本中禁用。  (函数宏) |



###  [堆栈回溯](https://cppreference.cn/w/cpp/utility/basic_stacktrace) (自 C++23 起)

| 定义于头文件 `<stacktrace>`                                  |                                                  |
| ------------------------------------------------------------ | ------------------------------------------------ |
| [ stacktrace_entry](https://cppreference.cn/w/cpp/utility/stacktrace_entry)(C++23) | 堆栈回溯中求值的表示  (类)                       |
| [ basic_stacktrace](https://cppreference.cn/w/cpp/utility/basic_stacktrace)(C++23) | 调用序列的近似表示，由堆栈回溯条目组成  (类模板) |



###  调试支持 (自 C++26 起)

| 定义于头文件 `<debugging>`                                   |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [ breakpoint](https://cppreference.cn/w/cpp/utility/breakpoint)(C++26) | 调用时暂停正在运行的程序  (函数)                             |
| [ breakpoint_if_debugging](https://cppreference.cn/w/cpp/utility/breakpoint_if_debugging)(C++26) | 如果 std::is_debugger_present 返回 true，则调用 std::breakpoint  (函数) |
| [ is_debugger_present](https://cppreference.cn/w/cpp/utility/is_debugger_present)(C++26) | 检查程序是否在调试器的控制下运行  (函数)                     |

###  参见

| [`static_assert` 声明](https://cppreference.cn/w/cpp/language/static_assert) (C++11) | 执行编译时断言检查 |
| ------------------------------------------------------------ | ------------------ |
| [C 文档](https://cppreference.cn/w/c/error) 关于 错误处理    |                    |