# èŒƒå›´åº“ (è‡ª C++20 èµ·)

èŒƒå›´åº“æ˜¯å¯¹ç®—æ³•å’Œè¿­ä»£å™¨åº“çš„æ‰©å±•å’Œæ³›åŒ–ï¼Œé€šè¿‡ä½¿å…¶å¯ç»„åˆä¸”ä¸æ˜“å‡ºé”™ï¼Œä»è€Œä½¿å…¶æ›´åŠ å¼ºå¤§ã€‚

è¯¥åº“åˆ›å»ºå’Œæ“ä½œèŒƒå›´*è§†å›¾*ï¼Œè¿™æ˜¯ä¸€ç§è½»é‡çº§å¯¹è±¡ï¼Œé—´æ¥è¡¨ç¤ºå¯è¿­ä»£åºåˆ—ï¼ˆ*èŒƒå›´*ï¼‰ã€‚èŒƒå›´æ˜¯å¯¹ä»¥ä¸‹å†…å®¹çš„æŠ½è±¡ï¼š

-  `[`begin`, `end`)` â€“ è¿­ä»£å™¨å¯¹ï¼Œä¾‹å¦‚é€šè¿‡ä»å®¹å™¨éšå¼è½¬æ¢åˆ›å»ºçš„èŒƒå›´ã€‚æ‰€æœ‰æ¥å—è¿­ä»£å™¨å¯¹çš„ç®—æ³•ç°åœ¨éƒ½æœ‰æ¥å—èŒƒå›´çš„é‡è½½ï¼ˆä¾‹å¦‚ [`ranges::sort`](https://cppreference.cn/w/cpp/algorithm/ranges/sort)ï¼‰
- begin` + ``[`0`, `size`)` â€“ è®¡æ•°åºåˆ—ï¼Œä¾‹å¦‚ [`views::counted`](https://cppreference.cn/w/cpp/ranges/view_counted) è¿”å›çš„èŒƒå›´
-  `[`begin`, `*predicate*`)` â€“ æ¡ä»¶ç»ˆæ­¢åºåˆ—ï¼Œä¾‹å¦‚ [`views::take_while`](https://cppreference.cn/w/cpp/ranges/take_while_view) è¿”å›çš„èŒƒå›´
-  `[`begin`, `..`)` â€“ æ— ç•Œåºåˆ—ï¼Œä¾‹å¦‚ [`views::iota`](https://cppreference.cn/w/cpp/ranges/iota_view) è¿”å›çš„èŒƒå›´

èŒƒå›´åº“åŒ…æ‹¬ [èŒƒå›´ç®—æ³•](https://cppreference.cn/w/cpp/algorithm/ranges)ï¼ˆæ€¥åˆ‡åœ°åº”ç”¨äºèŒƒå›´ï¼‰å’Œ [èŒƒå›´é€‚é…å™¨](https://cppreference.cn/w/cpp/ranges#Range_adaptors)ï¼ˆæƒ°æ€§åœ°åº”ç”¨äºè§†å›¾ï¼‰ã€‚é€‚é…å™¨å¯ä»¥ç»„åˆæˆç®¡é“ï¼Œä»¥ä¾¿åœ¨è¿­ä»£è§†å›¾æ—¶æ‰§è¡Œå…¶æ“ä½œã€‚

| å®šä¹‰äºå¤´æ–‡ä»¶ `<ranges>`                                |      |               |
| ------------------------------------------------------ | ---- | ------------- |
| namespace std {    namespace views = ranges::views;  } |      | (è‡ª C++20 èµ·) |
|                                                        |      |               |

å‘½åç©ºé—´åˆ«å `std::views` ä½œä¸º `std::ranges::views` çš„ç®€å†™å½¢å¼æä¾›ã€‚

| å®šä¹‰äºå‘½åç©ºé—´ `std::ranges`                                 |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| èŒƒå›´è®¿é—®                                                     |                                                              |
| å®šä¹‰äºå¤´æ–‡ä»¶ `<ranges>`                                      |                                                              |
| å®šä¹‰äºå¤´æ–‡ä»¶ `<iterator>`                                    |                                                              |
| [ ranges::begin](https://cppreference.cn/w/cpp/ranges/begin)(C++20) | è¿”å›æŒ‡å‘èŒƒå›´å¼€å¤´çš„è¿­ä»£å™¨ (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)                      |
| [ ranges::end](https://cppreference.cn/w/cpp/ranges/end)(C++20) | è¿”å›æŒ‡ç¤ºèŒƒå›´ç»“å°¾çš„å“¨å…µ (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)                        |
| [ ranges::cbegin](https://cppreference.cn/w/cpp/ranges/cbegin)(C++20) | è¿”å›æŒ‡å‘åªè¯»èŒƒå›´å¼€å¤´çš„è¿­ä»£å™¨ (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)                  |
| [ ranges::cend](https://cppreference.cn/w/cpp/ranges/cend)(C++20) | è¿”å›æŒ‡ç¤ºåªè¯»èŒƒå›´ç»“å°¾çš„å“¨å…µ (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)                    |
| [ ranges::rbegin](https://cppreference.cn/w/cpp/ranges/rbegin)(C++20) | è¿”å›èŒƒå›´çš„åå‘è¿­ä»£å™¨ (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)                          |
| [ ranges::rend](https://cppreference.cn/w/cpp/ranges/rend)(C++20) | è¿”å›èŒƒå›´çš„åå‘ç»“å°¾è¿­ä»£å™¨ (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)                      |
| [ ranges::crbegin](https://cppreference.cn/w/cpp/ranges/crbegin)(C++20) | è¿”å›æŒ‡å‘åªè¯»èŒƒå›´çš„åå‘è¿­ä»£å™¨ (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)                  |
| [ ranges::crend](https://cppreference.cn/w/cpp/ranges/crend)(C++20) | è¿”å›æŒ‡å‘åªè¯»èŒƒå›´çš„åå‘ç»“å°¾è¿­ä»£å™¨ (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)              |
| ranges::reserve_hint(C++26)                                  | è¿”å›ä¸€ä¸ªç­‰äºèŒƒå›´ç»™å‡ºçš„ä¿ç•™æç¤ºçš„æ•´æ•° (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)          |
| [ ranges::size](https://cppreference.cn/w/cpp/ranges/size)(C++20) | è¿”å›ä¸€ä¸ªç­‰äºèŒƒå›´å¤§å°çš„æ•´æ•° (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)                    |
| [ ranges::ssize](https://cppreference.cn/w/cpp/ranges/ssize)(C++20) | è¿”å›ä¸€ä¸ªç­‰äºèŒƒå›´å¤§å°çš„æœ‰ç¬¦å·æ•´æ•° (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)              |
| [ ranges::empty](https://cppreference.cn/w/cpp/ranges/empty)(C++20) | æ£€æŸ¥èŒƒå›´æ˜¯å¦ä¸ºç©º (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)                              |
| [ ranges::data](https://cppreference.cn/w/cpp/ranges/data)(C++20) | è·å–æŒ‡å‘è¿ç»­èŒƒå›´å¼€å¤´çš„æŒ‡é’ˆ (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)                    |
| [ ranges::cdata](https://cppreference.cn/w/cpp/ranges/cdata)(C++20) | è·å–æŒ‡å‘åªè¯»è¿ç»­èŒƒå›´å¼€å¤´çš„æŒ‡é’ˆ (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)                |
| èŒƒå›´åŸè¯­                                                     |                                                              |
| å®šä¹‰äºå¤´æ–‡ä»¶ `<ranges>`                                      |                                                              |
| [ ranges::iterator_tranges::const_iterator_tranges::sentinel_tranges::const_sentinel_t](https://cppreference.cn/w/cpp/ranges/iterator_t)(C++20)(C++23)(C++20)(C++23) | è·å–èŒƒå›´çš„è¿­ä»£å™¨å’Œå“¨å…µç±»å‹ (åˆ«åæ¨¡æ¿)                        |
| [ ranges::range_difference_tranges::range_size_tranges::range_value_t](https://cppreference.cn/w/cpp/ranges/range_size_t)(C++20)(C++20)(C++20) | è·å–èŒƒå›´çš„å¤§å°ã€å·®å€¼å’Œå€¼ç±»å‹ (åˆ«åæ¨¡æ¿)                      |
| [ ranges::range_reference_tranges::range_const_reference_tranges::range_rvalue_reference_tranges::range_common_reference_t](https://cppreference.cn/w/cpp/ranges/range_reference_t)(C++20)(C++23)(C++20)(C++20) | è·å–èŒƒå›´çš„å¼•ç”¨ç±»å‹ (åˆ«åæ¨¡æ¿)                                |
| æ‚¬å‚è¿­ä»£å™¨å¤„ç†                                               |                                                              |
| å®šä¹‰äºå¤´æ–‡ä»¶ `<ranges>`                                      |                                                              |
| [ ranges::dangling](https://cppreference.cn/w/cpp/ranges/dangling)(C++20) | æŒ‡ç¤ºä¸åº”è¿”å›è¿­ä»£å™¨æˆ– `subrange` çš„å ä½ç¬¦ç±»å‹ï¼Œå› ä¸ºå®ƒå°†æ˜¯æ‚¬å‚çš„  (ç±») |
| [ ranges::borrowed_iterator_tranges::borrowed_subrange_t](https://cppreference.cn/w/cpp/ranges/borrowed_iterator_t)(C++20) | è·å– [`borrowed_range`](https://cppreference.cn/w/cpp/ranges/borrowed_range) çš„è¿­ä»£å™¨ç±»å‹æˆ– `subrange` ç±»å‹ (åˆ«åæ¨¡æ¿) |
| å…¶ä»–å·¥å…·                                                     |                                                              |
| å®šä¹‰äºå¤´æ–‡ä»¶ `<ranges>`                                      |                                                              |
| [ ranges::elements_of](https://cppreference.cn/w/cpp/ranges/elements_of)(C++23) | æ ‡è®°ä¸€ä¸ªèŒƒå›´ï¼Œä½¿å…¶è¢«è§†ä¸ºåºåˆ—è€Œä¸æ˜¯å•ä¸ªå€¼  (ç±»æ¨¡æ¿)           |
| èŒƒå›´æ¦‚å¿µ                                                     |                                                              |
| å®šä¹‰äºå¤´æ–‡ä»¶ `<ranges>`                                      |                                                              |
| [ ranges::range](https://cppreference.cn/w/cpp/ranges/range)(C++20) | æŒ‡å®šç±»å‹ä¸ºèŒƒå›´ï¼Œå³å®ƒæä¾› `begin` è¿­ä»£å™¨å’Œ `end` å“¨å…µ  (æ¦‚å¿µ) |
| [ ranges::borrowed_range](https://cppreference.cn/w/cpp/ranges/borrowed_range)(C++20) | æŒ‡å®šç±»å‹ä¸º [`range`](https://cppreference.cn/w/cpp/ranges/range)ï¼Œå¹¶ä¸”ä»å®ƒçš„è¡¨è¾¾å¼ä¸­è·å–çš„è¿­ä»£å™¨å¯ä»¥å®‰å…¨åœ°è¿”å›ï¼Œè€Œæ²¡æœ‰æ‚¬å‚çš„å±é™©  (æ¦‚å¿µ) |
| ranges::approximately_sized_range(C++26)                     | æŒ‡å®šèŒƒå›´å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…ä¼°è®¡å…¶å¤§å°  (æ¦‚å¿µ)                   |
| [ ranges::sized_range](https://cppreference.cn/w/cpp/ranges/sized_range)(C++20) | æŒ‡å®šèŒƒå›´åœ¨å¸¸æ•°æ—¶é—´å†…çŸ¥é“å…¶å¤§å°  (æ¦‚å¿µ)                       |
| [ ranges::view](https://cppreference.cn/w/cpp/ranges/view)(C++20) | æŒ‡å®šèŒƒå›´æ˜¯è§†å›¾ï¼Œå³å®ƒå…·æœ‰å¸¸æ•°æ—¶é—´çš„å¤åˆ¶/ç§»åŠ¨/èµ‹å€¼  (æ¦‚å¿µ)     |
| [ ranges::input_range](https://cppreference.cn/w/cpp/ranges/input_range)(C++20) | æŒ‡å®šè¿­ä»£å™¨ç±»å‹æ»¡è¶³ [`input_iterator`](https://cppreference.cn/w/cpp/iterator/input_iterator) çš„èŒƒå›´  (æ¦‚å¿µ) |
| [ ranges::output_range](https://cppreference.cn/w/cpp/ranges/output_range)(C++20) | æŒ‡å®šè¿­ä»£å™¨ç±»å‹æ»¡è¶³ [`output_iterator`](https://cppreference.cn/w/cpp/iterator/output_iterator) çš„èŒƒå›´  (æ¦‚å¿µ) |
| [ ranges::forward_range](https://cppreference.cn/w/cpp/ranges/forward_range)(C++20) | æŒ‡å®šè¿­ä»£å™¨ç±»å‹æ»¡è¶³ [`forward_iterator`](https://cppreference.cn/w/cpp/iterator/forward_iterator) çš„èŒƒå›´  (æ¦‚å¿µ) |
| [ ranges::bidirectional_range](https://cppreference.cn/w/cpp/ranges/bidirectional_range)(C++20) | æŒ‡å®šè¿­ä»£å™¨ç±»å‹æ»¡è¶³ [`bidirectional_iterator`](https://cppreference.cn/w/cpp/iterator/bidirectional_iterator) çš„èŒƒå›´  (æ¦‚å¿µ) |
| [ ranges::random_access_range](https://cppreference.cn/w/cpp/ranges/random_access_range)(C++20) | æŒ‡å®šè¿­ä»£å™¨ç±»å‹æ»¡è¶³ [`random_access_iterator`](https://cppreference.cn/w/cpp/iterator/random_access_iterator) çš„èŒƒå›´  (æ¦‚å¿µ) |
| [ ranges::contiguous_range](https://cppreference.cn/w/cpp/ranges/contiguous_range)(C++20) | æŒ‡å®šè¿­ä»£å™¨ç±»å‹æ»¡è¶³ [`contiguous_iterator`](https://cppreference.cn/w/cpp/iterator/contiguous_iterator) çš„èŒƒå›´  (æ¦‚å¿µ) |
| [ ranges::common_range](https://cppreference.cn/w/cpp/ranges/common_range)(C++20) | æŒ‡å®šèŒƒå›´å…·æœ‰ç›¸åŒçš„è¿­ä»£å™¨å’Œå“¨å…µç±»å‹  (æ¦‚å¿µ)                   |
| [ ranges::viewable_range](https://cppreference.cn/w/cpp/ranges/viewable_range)(C++20) | æŒ‡å®š [`range`](https://cppreference.cn/w/cpp/ranges/range) å®‰å…¨è½¬æ¢ä¸º [`view`](https://cppreference.cn/w/cpp/ranges/view) çš„è¦æ±‚  (æ¦‚å¿µ) |
| [ ranges::constant_range](https://cppreference.cn/w/cpp/ranges/constant_range)(C++23) | æŒ‡å®šèŒƒå›´å…·æœ‰åªè¯»å…ƒç´   (æ¦‚å¿µ)                                 |
| èŒƒå›´è½¬æ¢                                                     |                                                              |
| å®šä¹‰äºå¤´æ–‡ä»¶ `<ranges>`                                      |                                                              |
| [ ranges::to](https://cppreference.cn/w/cpp/ranges/to)(C++23) | ä»è¾“å…¥èŒƒå›´æ„é€ ä¸€ä¸ªæ–°çš„éè§†å›¾å¯¹è±¡  (å‡½æ•°æ¨¡æ¿)                 |
| è§†å›¾                                                         |                                                              |
| å®šä¹‰äºå¤´æ–‡ä»¶ `<ranges>`                                      |                                                              |
| [ ranges::view_interface](https://cppreference.cn/w/cpp/ranges/view_interface)(C++20) | ç”¨äºå®šä¹‰ [`view`](https://cppreference.cn/w/cpp/ranges/view) çš„è¾…åŠ©ç±»æ¨¡æ¿ï¼Œä½¿ç”¨ [å¥‡ç‰¹çš„é€’å½’æ¨¡æ¿æ¨¡å¼](https://cppreference.cn/w/cpp/language/crtp)  (ç±»æ¨¡æ¿) |
| [ ranges::subrange](https://cppreference.cn/w/cpp/ranges/subrange)(C++20) | å°†è¿­ä»£å™¨-å“¨å…µå¯¹ç»„åˆæˆ [`view`](https://cppreference.cn/w/cpp/ranges/view)  (ç±»æ¨¡æ¿) |



###  èŒƒå›´å·¥å‚

| å®šä¹‰äºå¤´æ–‡ä»¶ `<ranges>`                                      |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| å®šä¹‰äºå‘½åç©ºé—´ `std::ranges`                                 |                                                              |
| [ ranges::empty_viewviews::empty](https://cppreference.cn/w/cpp/ranges/empty_view)(C++20) | ä¸€ä¸ªæ²¡æœ‰å…ƒç´ çš„ç©º [`view`](https://cppreference.cn/w/cpp/ranges/view) (ç±»æ¨¡æ¿) (å˜é‡æ¨¡æ¿) |
| [ ranges::single_viewviews::single](https://cppreference.cn/w/cpp/ranges/single_view)(C++20) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼ŒåŒ…å«æŒ‡å®šå€¼çš„å•ä¸ªå…ƒç´  (ç±»æ¨¡æ¿) (è‡ªå®šä¹‰ç‚¹å¯¹è±¡) |
| [ ranges::iota_viewviews::iota](https://cppreference.cn/w/cpp/ranges/iota_view)(C++20) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œç”±é€šè¿‡é‡å¤é€’å¢åˆå§‹å€¼ç”Ÿæˆçš„åºåˆ—ç»„æˆ (ç±»æ¨¡æ¿) (è‡ªå®šä¹‰ç‚¹å¯¹è±¡) |
| [ ranges::repeat_viewviews::repeat](https://cppreference.cn/w/cpp/ranges/repeat_view)(C++23) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œç”±é€šè¿‡é‡å¤äº§ç”Ÿç›¸åŒå€¼è€Œç”Ÿæˆçš„åºåˆ—ç»„æˆ (ç±»æ¨¡æ¿) (è‡ªå®šä¹‰ç‚¹å¯¹è±¡) |
| [ ranges::basic_istream_viewviews::istream](https://cppreference.cn/w/cpp/ranges/basic_istream_view)(C++20) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œç”±é€šè¿‡è¿ç»­åº”ç”¨å…³è”è¾“å…¥æµä¸Šçš„ `operator>>` è·å–çš„å…ƒç´ ç»„æˆ (ç±»æ¨¡æ¿) (è‡ªå®šä¹‰ç‚¹å¯¹è±¡) |



###  èŒƒå›´é€‚é…å™¨

| å®šä¹‰äºå¤´æ–‡ä»¶ `<ranges>`                                      |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| å®šä¹‰äºå‘½åç©ºé—´ `std::ranges`                                 |                                                              |
| [ ranges::range_adaptor_closure](https://cppreference.cn/w/cpp/ranges/range_adaptor_closure)(C++23) | ç”¨äºå®šä¹‰èŒƒå›´é€‚é…å™¨é—­åŒ…å¯¹è±¡çš„è¾…åŠ©åŸºç±»æ¨¡æ¿  (ç±»æ¨¡æ¿)           |
| [ views::all_tviews::all](https://cppreference.cn/w/cpp/ranges/all_view)(C++20) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼ŒåŒ…å« [`range`](https://cppreference.cn/w/cpp/ranges/range) çš„æ‰€æœ‰å…ƒç´  (åˆ«åæ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::ref_view](https://cppreference.cn/w/cpp/ranges/ref_view)(C++20) | æŸä¸ªå…¶ä»– [`range`](https://cppreference.cn/w/cpp/ranges/range) çš„å…ƒç´ çš„ [`view`](https://cppreference.cn/w/cpp/ranges/view)  (ç±»æ¨¡æ¿) |
| [ ranges::owning_view](https://cppreference.cn/w/cpp/ranges/owning_view)(C++20) | å…·æœ‰æŸäº› [`range`](https://cppreference.cn/w/cpp/ranges/range) çš„å”¯ä¸€æ‰€æœ‰æƒçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view)  (ç±»æ¨¡æ¿) |
| [ ranges::as_rvalue_viewviews::as_rvalue](https://cppreference.cn/w/cpp/ranges/as_rvalue_view)(C++23) | å°†æ¯ä¸ªå…ƒç´ å¼ºåˆ¶è½¬æ¢ä¸ºå³å€¼çš„åºåˆ—çš„ [`view`](https://cppreference.cn/w/cpp/ranges/view) (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::filter_viewviews::filter](https://cppreference.cn/w/cpp/ranges/filter_view)(C++20) | ç”±æ»¡è¶³è°“è¯çš„ [`range`](https://cppreference.cn/w/cpp/ranges/range) çš„å…ƒç´ ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view) (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::transform_viewviews::transform](https://cppreference.cn/w/cpp/ranges/transform_view)(C++20) | å°†è½¬æ¢å‡½æ•°åº”ç”¨äºæ¯ä¸ªå…ƒç´ çš„åºåˆ—çš„ [`view`](https://cppreference.cn/w/cpp/ranges/view) (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::take_viewviews::take](https://cppreference.cn/w/cpp/ranges/take_view)(C++20) | ç”±å¦ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view) çš„å‰ N ä¸ªå…ƒç´ ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view) (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::take_while_viewviews::take_while](https://cppreference.cn/w/cpp/ranges/take_while_view)(C++20) | ç”±å¦ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view) çš„åˆå§‹å…ƒç´ ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œç›´åˆ°è°“è¯è¿”å› false çš„ç¬¬ä¸€ä¸ªå…ƒç´  (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::drop_viewviews::drop](https://cppreference.cn/w/cpp/ranges/drop_view)(C++20) | ç”±å¦ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view) çš„å…ƒç´ ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œè·³è¿‡å‰ N ä¸ªå…ƒç´  (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::drop_while_viewviews::drop_while](https://cppreference.cn/w/cpp/ranges/drop_while_view)(C++20) | ç”±å¦ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view) çš„å…ƒç´ ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œè·³è¿‡åˆå§‹å…ƒç´ å­åºåˆ—ï¼Œç›´åˆ°è°“è¯è¿”å› false çš„ç¬¬ä¸€ä¸ªå…ƒç´  (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::join_viewviews::join](https://cppreference.cn/w/cpp/ranges/join_view)(C++20) | ç”±ä»æ‰å¹³åŒ– [`range`](https://cppreference.cn/w/cpp/ranges/range) çš„ [`view`](https://cppreference.cn/w/cpp/ranges/view) è·å¾—çš„åºåˆ—ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view) (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::join_with_viewviews::join_with](https://cppreference.cn/w/cpp/ranges/join_with_view)(C++23) | ç”±ä»æ‰å¹³åŒ–èŒƒå›´è§†å›¾è·å¾—çš„åºåˆ—ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå…ƒç´ ä¹‹é—´å¸¦æœ‰åˆ†éš”ç¬¦ (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::lazy_split_viewviews::lazy_split](https://cppreference.cn/w/cpp/ranges/lazy_split_view)(C++20) | åœ¨é€šè¿‡ä½¿ç”¨åˆ†éš”ç¬¦æ‹†åˆ†å¦ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view) è·å¾—çš„å­èŒƒå›´ä¸Šçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view) (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::split_viewviews::split](https://cppreference.cn/w/cpp/ranges/split_view)(C++20) | åœ¨é€šè¿‡ä½¿ç”¨åˆ†éš”ç¬¦æ‹†åˆ†å¦ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view) è·å¾—çš„å­èŒƒå›´ä¸Šçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view) (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::concat_viewviews::concat](https://cppreference.cn/w/cpp/ranges/concat_view)(C++26) | ç”±é€‚é…è§†å›¾çš„è¿æ¥ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view) (ç±»æ¨¡æ¿) (è‡ªå®šä¹‰ç‚¹å¯¹è±¡) |
| [ views::counted](https://cppreference.cn/w/cpp/ranges/view_counted)(C++20) | ä»è¿­ä»£å™¨å’Œè®¡æ•°åˆ›å»ºå­èŒƒå›´ (è‡ªå®šä¹‰ç‚¹å¯¹è±¡)                      |
| [ ranges::common_viewviews::common](https://cppreference.cn/w/cpp/ranges/common_view)(C++20) | å°† [`view`](https://cppreference.cn/w/cpp/ranges/view) è½¬æ¢ä¸º [`common_range`](https://cppreference.cn/w/cpp/ranges/common_range) (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::reverse_viewviews::reverse](https://cppreference.cn/w/cpp/ranges/reverse_view)(C++20) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå®ƒä»¥ç›¸åçš„é¡ºåºè¿­ä»£å¦ä¸€ä¸ªåŒå‘ view çš„å…ƒç´  (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::as_const_viewviews::as_const](https://cppreference.cn/w/cpp/ranges/as_const_view)(C++23) | å°† [`view`](https://cppreference.cn/w/cpp/ranges/view) è½¬æ¢ä¸º [`constant_range`](https://cppreference.cn/w/cpp/ranges/constant_range) (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::elements_viewviews::elements](https://cppreference.cn/w/cpp/ranges/elements_view)(C++20) | æ¥å—ä¸€ä¸ªç”± [`*tuple-like*`](https://cppreference.cn/w/cpp/utility/tuple/tuple-like) å€¼å’Œæ•°å­— N ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªç”±æ¯ä¸ªå…ƒç»„çš„ç¬¬ N ä¸ªå…ƒç´ ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view) (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::keys_viewviews::keys](https://cppreference.cn/w/cpp/ranges/keys_view)(C++20) | æ¥å—ä¸€ä¸ªç”±ç±»å¯¹å€¼ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªç”±æ¯å¯¹çš„ç¬¬ä¸€ä¸ªå…ƒç´ ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view) (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::values_viewviews::values](https://cppreference.cn/w/cpp/ranges/values_view)(C++20) | æ¥å—ä¸€ä¸ªç”±ç±»å¯¹å€¼ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªç”±æ¯å¯¹çš„ç¬¬äºŒä¸ªå…ƒç´ ç»„æˆçš„ [`view`](https://cppreference.cn/w/cpp/ranges/view) (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::enumerate_viewviews::enumerate](https://cppreference.cn/w/cpp/ranges/enumerate_view)(C++23) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå®ƒå°†é€‚é…åºåˆ—çš„æ¯ä¸ªå…ƒç´ æ˜ å°„åˆ°ä¸€ä¸ªç”±å…ƒç´ çš„ä½ç½®åŠå…¶å€¼ç»„æˆçš„å…ƒç»„ (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::zip_viewviews::zip](https://cppreference.cn/w/cpp/ranges/zip_view)(C++23) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå®ƒç”±å¯¹é€‚é…çš„ view çš„ç›¸åº”å…ƒç´ çš„å¼•ç”¨çš„å…ƒç»„ç»„æˆ (ç±»æ¨¡æ¿) (å®šåˆ¶ç‚¹å¯¹è±¡) |
| [ ranges::zip_transform_viewviews::zip_transform](https://cppreference.cn/w/cpp/ranges/zip_transform_view)(C++23) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå®ƒç”±å°†å˜æ¢å‡½æ•°åº”ç”¨äºé€‚é…çš„ view çš„ç›¸åº”å…ƒç´ çš„ç»“æœç»„æˆ (ç±»æ¨¡æ¿) (å®šåˆ¶ç‚¹å¯¹è±¡) |
| [ ranges::adjacent_viewviews::adjacent](https://cppreference.cn/w/cpp/ranges/adjacent_view)(C++23) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå®ƒç”±å¯¹é€‚é…çš„ view çš„ç›¸é‚»å…ƒç´ çš„å¼•ç”¨çš„å…ƒç»„ç»„æˆ (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::adjacent_transform_viewviews::adjacent_transform](https://cppreference.cn/w/cpp/ranges/adjacent_transform_view)(C++23) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå®ƒç”±å°†å˜æ¢å‡½æ•°åº”ç”¨äºé€‚é…çš„ view çš„ç›¸é‚»å…ƒç´ çš„ç»“æœç»„æˆ (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::chunk_viewviews::chunk](https://cppreference.cn/w/cpp/ranges/chunk_view)(C++23) | ä¸€ç³»åˆ— [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå®ƒä»¬æ˜¯å¦ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view) çš„å…ƒç´ çš„ `N` å¤§å°çš„éé‡å è¿ç»­å— (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::slide_viewviews::slide](https://cppreference.cn/w/cpp/ranges/slide_view)(C++23) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå…¶ç¬¬ M ä¸ªå…ƒç´ æ˜¯å¦ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view) çš„ç¬¬ M ä¸ªåˆ°ç¬¬ (M + N - 1) ä¸ªå…ƒç´ çš„ [`view`](https://cppreference.cn/w/cpp/ranges/view) (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::chunk_by_viewviews::chunk_by](https://cppreference.cn/w/cpp/ranges/chunk_by_view)(C++23) | å°† [`view`](https://cppreference.cn/w/cpp/ranges/view) æ‹†åˆ†ä¸ºå­èŒƒå›´ï¼Œå­èŒƒå›´ä½äºç»™å®šè°“è¯è¿”å› false çš„æ¯å¯¹ç›¸é‚»å…ƒç´ ä¹‹é—´ (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::stride_viewviews::stride](https://cppreference.cn/w/cpp/ranges/stride_view)(C++23) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå®ƒç”±å¦ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view) çš„å…ƒç´ ç»„æˆï¼Œæ¯æ¬¡å‰è¿› N ä¸ªå…ƒç´  (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::cartesian_product_viewviews::cartesian_product](https://cppreference.cn/w/cpp/ranges/cartesian_product_view)(C++23) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå®ƒç”±é€‚é…çš„ view çš„ n å…ƒç¬›å¡å°”ç§¯è®¡ç®—çš„ç»“æœå…ƒç»„ç»„æˆ (ç±»æ¨¡æ¿) (å®šåˆ¶ç‚¹å¯¹è±¡) |
| [ ranges::cache_latest_viewviews::cache_latest](https://cppreference.cn/w/cpp/ranges/cache_latest_view)(C++26) | ä¸€ä¸ª [`view`](https://cppreference.cn/w/cpp/ranges/view)ï¼Œå®ƒç¼“å­˜å…¶åº•å±‚åºåˆ—çš„æœ€åè®¿é—®å…ƒç´  (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |
| [ ranges::to_input_viewviews::to_input](https://cppreference.cn/w/cpp/ranges/to_input_view)(C++26) | å°† [`view`](https://cppreference.cn/w/cpp/ranges/view) è½¬æ¢ä¸ºä»…ä¸º [`input_range`](https://cppreference.cn/w/cpp/ranges/input_range) ä¸”é [`common_range`](https://cppreference.cn/w/cpp/ranges/common_range) çš„èŒƒå›´ (ç±»æ¨¡æ¿) (èŒƒå›´é€‚é…å™¨å¯¹è±¡) |



###  èŒƒå›´ç”Ÿæˆå™¨ (è‡ª C++23 èµ·)

| å®šä¹‰äºå¤´æ–‡ä»¶ `<generator>`                                   |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| å®šä¹‰äºå‘½åç©ºé—´ `std`                                         |                                                              |
| [ generator](https://cppreference.cn/w/cpp/coroutine/generator)(C++23) | ä¸€ä¸ªè¡¨ç¤ºåŒæ­¥ [åç¨‹](https://cppreference.cn/w/cpp/language/coroutines) ç”Ÿæˆå™¨çš„ [`view`](https://cppreference.cn/w/cpp/ranges/view)  (ç±»æ¨¡æ¿) |

# ä½¿ç”¨ç¤ºä¾‹

```cpp
#ifdef _WIN32
#include <windows.h>
#endif // _WIN32
#include <iostream>
#include <string>
#include <vector>
#include <list>
#include <array>
#include <tuple>
#include <algorithm>
#include <iomanip>
#include <numeric>
#include <ranges>
#include <map>
int main() {
#ifdef _WIN32
    SetConsoleOutputCP(CP_UTF8);
    //std::cout.imbue(std::locale("en_US.utf8"));
#endif // _WIN32
    // ç¬›å¡å°”ç§¯
    {
        auto print = [](std::tuple<char const&, int const&, std::string const&> t, int pos)
        {
            const auto& [a, b, c] = t;
            std::cout << '(' << a << ' ' << b << ' ' << c << ')' << (pos % 4 ? " " : "\n");
        };
        const auto x = std::array{ 'A', 'B' };
        const auto y = std::vector{ 1, 2, 3 };
        const auto z = std::list<std::string>{ "Î±", "Î²", "Î³", "Î´" };

        for (int i{ 1 }; auto const& tuple : std::views::cartesian_product(x, y, z))
            print(tuple, i++);
    }

    // std::views::adjacent  get adjacent elements in a range
    // std::views::chunk  split a range into chunks of a given size
    // chunk_by æ¥æ”¶ä¸€ä¸ªäºŒå…ƒè°“è¯ï¼Œå¹¶éå†è¾“å…¥èŒƒå›´ä¸­çš„ç›¸é‚»å…ƒç´ å¯¹ã€‚å½“è°“è¯å¯¹ä¸¤ä¸ªç›¸é‚»å…ƒç´ è¿”å› false æ—¶ï¼Œå®ƒä¼šåœ¨è¿™äº›å…ƒç´ ä¹‹é—´åˆ›å»ºä¸€ä¸ªåˆ†å‰²ç‚¹ï¼Œå°†èŒƒå›´åˆ†æˆä¸åŒçš„å—ã€‚
    // std::views::slide
    // std::views::stride  æ­¥é•¿ä¸º n çš„åˆ‡ç‰‡
    {
        /*
        v = [1 2 3 4 5 6]
        e = [1 2 3]
        e =   [2 3 4]
        e =     [3 4 5]
        e =       [4 5 6]

        chunk(1): [1] [2] [3] [4] [5] [6]
        chunk(2): [1 2] [3 4] [5 6]
        chunk(3): [1 2 3] [4 5 6]
        chunk(4): [1 2 3 4] [5 6]
        chunk(5): [1 2 3 4 5] [6]
        chunk(6): [1 2 3 4 5 6]
        chunk(7): [1 2 3 4 5 6]

        [1, 2, 3] [1, 2, 3] [3] [3] [1, 2, 3]
        [1, 2, 3, 4] [4, 0, 2, 3] [3] [3, 2, 1]
        [_] [_] [cpp] [_] [lib] [_] [ranges] [_] [chunk] [_] [by]
        [z] [ÃŸ] [æ°´] [ğŸŒ]

        All sliding windows of width W:
        W = 1: [1] [2] [3] [4] [5] [6]
        W = 2: [1 2] [2 3] [3 4] [4 5] [5 6]
        W = 3: [1 2 3] [2 3 4] [3 4 5] [4 5 6]
        W = 4: [1 2 3 4] [2 3 4 5] [3 4 5 6]
        W = 5: [1 2 3 4 5] [2 3 4 5 6]
        W = 6: [1 2 3 4 5 6]

        1 4 7 10
        10 7 4 1
        12 9 6 3
        password
        */
        constexpr std::array v{ 1, 2, 3, 4, 5, 6 };
        std::cout << "v = [1 2 3 4 5 6]\n";

        for (int i{}; std::tuple t : v | std::views::adjacent<3>)
        {
            auto [t0, t1, t2] = t;
            std::cout << std::format("e = {:<{}}[{} {} {}]\n", "", 2 * i++, t0, t1, t2);
        }
        // ==
        auto print_subrange = [](std::ranges::viewable_range auto&& r)
            {
                std::cout << '[';
                for (int pos{}; auto elem : r)
                    std::cout << (pos++ ? " " : "") << elem;
                std::cout << "] ";
            };

        for (const unsigned width : std::views::iota(1U, 2U + v.size()))
        {
            auto const chunks = v | std::views::chunk(width);
            std::cout << "chunk(" << width << "): ";
            std::ranges::for_each(chunks, print_subrange);
            std::cout << '\n';
        }

        auto print_chunks = [](auto view, std::string_view separator = ", ")
        {
            for (auto const subrange : view)
            {
                std::cout << '[';
                for (std::string_view prefix; auto const& elem : subrange)
                    std::cout << prefix << elem, prefix = separator;
                std::cout << "] ";
            }
            std::cout << '\n';
        };

        std::initializer_list v1 = { 1, 2, 3, 1, 2, 3, 3, 3, 1, 2, 3 };
        auto fn1 = std::ranges::less{};
        auto view1 = v1 | std::views::chunk_by(fn1);
        print_chunks(view1);

        std::initializer_list v2 = { 1, 2, 3, 4, 4, 0, 2, 3, 3, 3, 2, 1 };
        auto fn2 = std::ranges::not_equal_to{};
        auto view2 = v2 | std::views::chunk_by(fn2);
        print_chunks(view2);

        std::string_view v3 = "__cpp_lib_ranges_chunk_by";
        auto fn3 = [](auto x, auto y) { return not(x == '_' or y == '_'); };
        auto view3 = v3 | std::views::chunk_by(fn3);
        print_chunks(view3, "");

        std::string_view v4 = "\u007a\u00df\u6c34\u{1f34c}"; // "zÃŸæ°´ğŸŒ"
        auto fn4 = [](auto, auto ÃŸ) { return 128 == ((128 + 64) & ÃŸ); };
        auto view4 = v4 | std::views::chunk_by(fn4);
        print_chunks(view4, "");

        // ==
        std::cout << "All sliding windows of width:\n";
        for (const unsigned width : std::views::iota(1U, 1U + v.size()))
        {
            auto const windows = v | std::views::slide(width);
            std::cout << "W = " << width << ": ";
            std::ranges::for_each(windows, print_subrange);
            std::cout << '\n';
        }

        // ==
        auto print2 = [](std::ranges::viewable_range auto&& v, std::string_view separator = " ")
            {
                for (auto const& x : v)
                    std::cout << x << separator;
                std::cout << '\n';
            };

        print2(std::views::iota(1, 13) | std::views::stride(3));
        print2(std::views::iota(1, 13) | std::views::stride(3) | std::views::reverse);
        print2(std::views::iota(1, 13) | std::views::reverse | std::views::stride(3));
        using std::operator""sv;
        print2("0x0!133713337*x//42/A$@"sv | std::views::stride(0B11) |
            std::views::transform([](char O) -> char { return 0100 | O; }),
            "");
    }
    // std::views::zip  å–å†³äºæœ€å°çš„å®¹å™¨å¤§å°
    {
        auto print = [](auto const rem, auto const& range)
            {
                for (std::cout << rem; auto const& elem : range)
                    std::cout << elem << ' ';
                std::cout << '\n';
            };
        auto x = std::vector{ 1, 2, 3, 4 };
        auto y = std::list<std::string>{ "Î±", "Î²", "Î³", "Î´", "Îµ" };
        auto z = std::array{ 'A', 'B', 'C', 'D', 'E', 'F' };

        print("Source views:", "");
        print("x: ", x);
        print("y: ", y);
        print("z: ", z);

        print("\nzip(x,y,z):", "");

        for (std::tuple<int&, std::string&, char&> elem : std::views::zip(x, y, z))
        {
            std::cout << std::get<0>(elem) << ' '
                << std::get<1>(elem) << ' '
                << std::get<2>(elem) << '\n';

            std::get<char&>(elem) += ('a' - 'A'); // modifies the element of z
        }

        print("\nAfter modification, z: ", z);
    }
    // std::views::enumerate  get index and value of each element in a range
    {
        constexpr static auto v = { 'A', 'B', 'C', 'D' };

        for (auto const [index, letter] : std::views::enumerate(v))
            std::cout << '(' << index << ':' << letter << ") ";
        std::cout << '\n';

#if __cpp_lib_ranges_to_container
        // create a map using the position of each element as key
        auto m = v | std::views::enumerate | std::ranges::to<std::map>();

        for (auto const [key, value] : m)
            std::cout << '[' << key << "]:" << value << ' ';
        std::cout << '\n';
#endif

        std::vector<int> numbers{ 1, 3, 5, 7 };

        // num is mutable even with const, which does not propagate to reference to
        // make it const, use `std::views::enumerate(numbers) | std::views::as_const`
        // or `std::views::enumerate(std::as_const(numbers))`
        for (auto const [index, num] : std::views::enumerate(numbers))
        {
            ++num; // the type is int&
            std::cout << numbers[index] << ' ';
        }
        std::cout << '\n';
    }
    // std::views::keysã€std::views::valuesã€std::views::elements
    {
        const std::vector<std::tuple<std::string, double, bool>> quark_mass_charge
        {
            // name, MeV/cÂ², has positive electric-charge:
            {"up", 2.3, true}, {"down", 4.8, false},
            {"charm", 1275, true}, {"strange", 95, false},
            {"top", 173'210, true}, {"bottom", 4'180, false},
        };

        std::cout << "Quark name:  â”‚ ";
        // 0
        for (std::string const& name : std::views::keys(quark_mass_charge))
            std::cout << std::setw(9) << name << " â”‚ ";

        // 1
        std::cout << "\n" "Mass MeV/cÂ²: â”‚ ";
        for (const double mass : std::views::values(quark_mass_charge))
            std::cout << std::setw(9) << mass << " â”‚ ";

        std::cout << "\n" "E-charge:    â”‚ ";
        for (const bool pos : std::views::elements<2>(quark_mass_charge))
            std::cout << std::setw(9) << (pos ? "+2/3" : "-1/3") << " â”‚ ";
        std::cout << '\n';
    }
    // lazy_split / lazy_split_view / split / split_view
    {
        auto print = [](auto const& view)
            {
                // `view` is of std::views::lazy_split_view::__outer_iterator::value_type

                for (std::cout << "{ "; const auto element : view)
                    std::cout << element << ' ';
                std::cout << "} ";
            };
        constexpr static auto source = { 0, 1, 0, 2, 3, 0, 4, 5, 6, 0, 7, 8, 9 };
        constexpr int delimiter{ 0 };
        constexpr std::ranges::lazy_split_view outer_view{ source, delimiter };
        std::cout << "splits[" << std::ranges::distance(outer_view) << "]:  ";
        for (auto const& inner_view : outer_view)
            print(inner_view);

        constexpr std::string_view hello{ "Hello C++ 20 !" };
        std::cout << "\n" "substrings: ";
        std::ranges::for_each(hello | std::views::lazy_split(' '), print);

        constexpr std::string_view text{ "Hello-+-C++-+-20-+-!" };
        constexpr std::string_view delim{ "-+-" };
        std::cout << "\n" "substrings: ";
        std::ranges::for_each(text | std::views::lazy_split(delim), print);

        using std::operator""sv;
        constexpr auto words{ "Hello^_^C++^_^20^_^!"sv };
        constexpr auto delimx{ "^_^"sv };

        for (const auto word : std::views::split(words, delimx))
            // with string_view's C++23 range constructor:
            std::cout << std::quoted(std::string_view(word)) << ' ';
        std::cout << '\n';
    }
    // join / join_view
    {
        using namespace std::literals;

        const auto bits = { "https:"sv, "//"sv, "cppreference"sv, "."sv, "com"sv };
        for (char const c : bits | std::views::join)
            std::cout << c;
        std::cout << '\n';

        const std::vector<std::vector<int>> vints{ {1, 2}, {3, 4, 5}, {6}, {7, 8, 9} };
        auto jv = std::ranges::join_view(vints);
        for (int const e : jv)
            std::cout << e << ' ';
        std::cout << '\n';

        std::vector vstrs{ "This"sv, "is"sv, "a"sv, "test."sv };
        auto joined = vstrs | std::views::join_with(' ');

        for (auto c : joined)
            std::cout << c;
        std::cout << '\n';

        std::vector<int> v0{ 1, 2, 3 }, v1{ 4, 5 };
        int a[]{ 6, 7 };
        int i{ 8 };
        auto ie{ std::views::single(i) };


    }
    // drop / drop_view ä¸¢å¼ƒå‰nä¸ªå…ƒç´ ï¼Œå¤§äºåŸåºåˆ—é•¿åº¦çš„dropå°†è¿”å›ç©ºè§†å›¾
    {
        const auto nums = { 1, 2, 3, 4, 5, 8, 7 };

        std::cout << "drop " << 2 << ": ";
        for (int i : std::ranges::drop_view{ nums, 6 })
            std::cout << i << ' ';
        std::cout << '\n';

        std::cout << "drop " << 3 << ": ";
        for (int i : nums | std::views::drop(5))
            std::cout << i << ' ';
        std::cout << '\n';

        std::cout << "drop " << 4 << ": ";
        for (int i : std::views::iota(1, 8) | std::views::drop(4))
            std::cout << i << ' ';
        std::cout << '\n';

        // Note that dropping more than the number of elements is OK:
        for (int dp : {5, 6, 7, 890, 100500})
        {
            std::cout << "drop " << dp << ": ";
            for (int i : std::views::iota(1, 8) | std::views::drop(dp))
                std::cout << i << ' ';
            std::cout << '\n';
        }
    }
    // take / take_while / take_while_view
    {
        namespace views = std::views;
        auto print = [](char x) { std::cout << x; };
        
        // è§†å›¾ä¸ä¿®æ”¹åŸåºåˆ—ï¼Œtakeä¸ªæ•°å¤§äºåŸåºåˆ—ä¸ªæ•°å°†ä»…å¾—åˆ°åŸåºåˆ—æ‰€æœ‰ä¸ªæ•°
        for (const char nums[]{ '1', '2', '3' };
            int n : views::iota(0, 5))
        {
            std::cout << "take(" << n << "): ";
            // safely takes only upto min(n, nums.size()) elements:
            std::ranges::for_each(nums | views::take(n), print);
            std::cout << '\n';
        }


        // ä»2020å¼€å§‹ç”Ÿæˆæ»¡è¶³æ¡ä»¶ï¼Œå°†åºåˆ—takeå–å‡º
        for (int year : std::views::iota(2020)
            | std::views::take_while([](int y) { return y < 2026; }))
            std::cout << year << ' ';
        std::cout << '\n';

        const char note[]{ "Today is yesterday's tomorrow!..." };
        auto not_dot = [](char c) { return c != '.'; };
        for (char x : std::ranges::take_while_view(note, not_dot))
            std::cout << x;
        std::cout << '\n';
    }
    {
        auto showAll = [](const unsigned char x) { std::putchar(x); };
        auto showChar = [](const unsigned char x) { std::cout << x << std::endl; };

        std::string in{ "cppreference.cn\n" };
        std::ranges::for_each(in.begin(), in.end(), showAll);
        std::ranges::for_each(in.begin(), in.end(), showChar);

        std::cout << '\n';
    }
    return 0;
}
```

